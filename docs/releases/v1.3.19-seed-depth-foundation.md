# v1.3.19 Seed Depth Foundation

Last updated: 2026-02-15  
Owner: Core + Wizard

## Summary

This change establishes a tracked baseline for v1.3.19 seed-depth work:

- default place seed catalog is now versioned in repo
- optional elevation/traversal/gameplay seed fields are ingested into spatial SQLite
- CI validates both tracked and local seed catalogs

## Shipped

- Added tracked default catalog:
  - `core/src/spatial/places.default.json`
- Added schema table for optional per-place seed metadata:
  - `core/src/spatial/schema.sql` (`place_seed_features`)
- Updated migration seeding behavior:
  - `core/services/location_migration_service.py`
  - `memory/spatial/places.json` (if present) is still preferred
  - fallback now uses tracked `core/src/spatial/places.default.json`
  - optional seed fields persist via `place_seed_features`
  - deterministic adjacency inference now fills `links` for places that omit explicit links (same anchor/space/layer; nearest neighbors by cell+z distance)
- Expanded CI seed gate:
  - `tools/ci/check_spatial_seed_catalog.py`
  - validates tracked defaults (`anchors.default.json`, `places.default.json`)
  - validates local `memory/spatial/*.json` when present
  - validates optional fields (`z`, `z_min`, `z_max`, `links`, `portals`, `stairs`, `ramps`, `quest_ids`, `npc_spawn`, `hazards`, `loot_tables`, `interaction_points`)
- Added migration regression tests:
  - `core/tests/location_migration_spatial_seed_test.py`

## Not Yet Complete

- Full `locations-seed.json` expansion to gameplay-ready regional graph.
- Deterministic global adjacency pass.
- Full gameplay primitive rollout across production seed corpus.
